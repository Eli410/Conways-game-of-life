[gd_scene load_steps=15 format=3 uid="uid://c6wq53u6jups2"]

[ext_resource type="Script" uid="uid://bhtg1k48hftqv" path="res://scripts/panel_container.gd" id="1_iywne"]
[ext_resource type="Script" uid="uid://dqb0l7yelw0cd" path="res://scripts/fps.gd" id="1_lnu2h"]
[ext_resource type="Script" uid="uid://2j61rhkq24fu" path="res://scripts/board.gd" id="1_uwrxv"]
[ext_resource type="Script" uid="uid://cai4dc77okk2s" path="res://scripts/mouse_pos.gd" id="2_lbhrr"]
[ext_resource type="Script" uid="uid://busarx4hd7jb8" path="res://scripts/camera_2d.gd" id="2_yqjtg"]
[ext_resource type="Script" uid="uid://bc08sytabywop" path="res://scripts/cell_count.gd" id="4_p57ef"]
[ext_resource type="Script" uid="uid://df0i0qyxg5163" path="res://scripts/state.gd" id="5_dinhu"]
[ext_resource type="Script" uid="uid://bih0nlov045q" path="res://scripts/cell.gd" id="6_kvuet"]
[ext_resource type="Script" uid="uid://c1l70x4gnsvw8" path="res://scripts/h_box_container.gd" id="7_kvpfn"]
[ext_resource type="Script" uid="uid://dldj6q4lyeoao" path="res://scripts/simulation_speed.gd" id="7_trtic"]
[ext_resource type="Texture2D" uid="uid://bdyhltcecs6of" path="res://icons/play.png" id="7_u5sy4"]
[ext_resource type="Script" uid="uid://b86otwnc44k6p" path="res://scripts/memory.gd" id="8_ir15t"]
[ext_resource type="Texture2D" uid="uid://dchrem8skobgo" path="res://icons/pause.png" id="9_kvpfn"]
[ext_resource type="Texture2D" uid="uid://bn4ej744tt4b2" path="res://icons/next.png" id="9_vtaks"]

[node name="Game" type="Node2D"]

[node name="DebugMenu" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="DebugMenu"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="PanelContainer" type="PanelContainer" parent="DebugMenu/Control"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -140.0
offset_right = 384.0
grow_vertical = 0
script = ExtResource("1_iywne")

[node name="VBoxContainer" type="VBoxContainer" parent="DebugMenu/Control/PanelContainer"]
layout_mode = 2

[node name="FPS" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "144 FPS"
fit_content = true
script = ExtResource("1_lnu2h")

[node name="MousePos" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Global mouse pos: (0, 0)"
fit_content = true
script = ExtResource("2_lbhrr")

[node name="CellPos" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Cell: (0, 0)"
fit_content = true
script = ExtResource("6_kvuet")

[node name="CellCount" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Alive Cell: 0"
fit_content = true
script = ExtResource("4_p57ef")

[node name="State" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Paused"
fit_content = true
script = ExtResource("5_dinhu")

[node name="SimulationSpeed" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Target/Actual (Gen/s):"
fit_content = true
script = ExtResource("7_trtic")

[node name="Memory" type="RichTextLabel" parent="DebugMenu/Control/PanelContainer/VBoxContainer"]
layout_mode = 2
fit_content = true
script = ExtResource("8_ir15t")

[node name="Camera2D" type="Camera2D" parent="."]
unique_name_in_owner = true
script = ExtResource("2_yqjtg")

[node name="Board" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("1_uwrxv")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TopMenu" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
grow_horizontal = 2

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/TopMenu"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -40.0
offset_right = 40.0
offset_bottom = 28.0
grow_horizontal = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TopMenu/PanelContainer"]
layout_mode = 2
mouse_filter = 0
alignment = 1
script = ExtResource("7_kvpfn")

[node name="Play" type="Button" parent="CanvasLayer/TopMenu/PanelContainer/HBoxContainer"]
layout_mode = 2
icon = ExtResource("7_u5sy4")

[node name="Pause" type="Button" parent="CanvasLayer/TopMenu/PanelContainer/HBoxContainer"]
visible = false
layout_mode = 2
icon = ExtResource("9_kvpfn")

[node name="Next" type="Button" parent="CanvasLayer/TopMenu/PanelContainer/HBoxContainer"]
layout_mode = 2
icon = ExtResource("9_vtaks")

[node name="CanvasLayer2" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer2"]
layout_mode = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
grow_horizontal = 0

[node name="PanelContainer2" type="PanelContainer" parent="CanvasLayer2/Control"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -165.0
offset_bottom = 31.0
grow_horizontal = 0

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer2/Control/PanelContainer2"]
layout_mode = 2

[node name="SimSpeedSlider" type="HSlider" parent="CanvasLayer2/Control/PanelContainer2/HBoxContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
max_value = 1.0
step = 0.02
value = 0.02

[node name="CheckBox" type="CheckBox" parent="CanvasLayer2/Control/PanelContainer2/HBoxContainer"]
layout_mode = 2
size_flags_vertical = 0
text = "Max"

[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Play" to="DebugMenu/Control/PanelContainer/VBoxContainer/State" method="_on_play_pressed"]
[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Play" to="Board" method="_on_play_pressed"]
[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Play" to="CanvasLayer/TopMenu/PanelContainer/HBoxContainer" method="_on_play_pressed"]
[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Pause" to="DebugMenu/Control/PanelContainer/VBoxContainer/State" method="_on_pause_pressed"]
[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Pause" to="Board" method="_on_pause_pressed"]
[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Pause" to="CanvasLayer/TopMenu/PanelContainer/HBoxContainer" method="_on_pause_pressed"]
[connection signal="pressed" from="CanvasLayer/TopMenu/PanelContainer/HBoxContainer/Next" to="Board" method="_on_next_pressed"]
[connection signal="drag_ended" from="CanvasLayer2/Control/PanelContainer2/HBoxContainer/SimSpeedSlider" to="Board" method="_on_sim_speed_slider_drag_ended"]
[connection signal="value_changed" from="CanvasLayer2/Control/PanelContainer2/HBoxContainer/SimSpeedSlider" to="Board" method="_on_sim_speed_slider_value_changed"]
[connection signal="toggled" from="CanvasLayer2/Control/PanelContainer2/HBoxContainer/CheckBox" to="Board" method="_on_check_box_toggled"]
